MAP
    #
    # Define Projections
    #
    CONFIG "PROJ_LIB" "/home/umberto/Documents/apps/projects/shire/mapfile/proj/SHARE"
    PROJECTION
      "init=epsg:3857"
    END # PROJECTION
	
    NAME "sample_WFS_WMS"
    SIZE 1000 500
    EXTENT 952014.59 5571269.68 1272301.10 5862273.22
    UNITS METERS
    SYMBOLSET "../symbol/symbol.txt"
    #TEMPLATEPATTERN "."

    # Start symbol definitions
    SYMBOL
      NAME "circle"
      TYPE ellipse
      FILLED true
      POINTS
        10 10
      END
    END
	
    #
    # Start of web interface definition
    #
    WEB
      #IMAGEPATH "C:\\xampp\\cgi-bin\\mapserver\\service\\tmp\\ms_tmp\\"
      #IMAGEURL ""
      METADATA
        "ows_title"                     "WFS/WMS (queryable) sample" ## REQUIRED
        "ows_onlineresource"            "https://localhost/cgi-bin/mapserv?map=/home/umberto/Documents/apps/projects/shire/mapfile/mapfile/mymap.map&" ## Recommended
        "ows_srs"                       "EPSG:3857"
        "ows_abstract"                  "WFS/WMS (queryable) sample Mapserver Umberto." ## Recommended
        "ows_enable_request"            "*"  # necessary
        "wms_getfeatureinfo_formatlist" "application/vnd.ogc.gml,text/html"
      END
    #TEMPLATE "template.html"
    END
    
    LAYER
      NAME cantine
      TYPE POINT
      CONNECTIONTYPE OGR
      CONNECTION "/home/umberto/Documents/apps/projects/shire/dati/wineshire.sqlite"
      DATA "cantine"
      METADATA
        "ows_title"         "cantine" ##REQUIRED
        "ows_srs"           "EPSG:3857" # REQUIRED
        "gml_include_items" "all" ## Optional (serves all attributes for layer)
        "gml_featureid"     "gid" ## REQUIRED
	"ows_geometries"    "geom" ## http://docs.qgis.org/2.2/en/docs/user_manual/working_with_ogc/ogc_client_support.html
	#"ows_mygeom_type"   "point"
	"gml_types"         "auto" ## http://mapserver.org/output/ogr_output.html#attribute-field-definitions
        "ows_enable_request" "*"
	"wms_include_items" "all"
      END
      STATUS ON
      TEMPLATE "../template/query_spatialite.html"
      TOLERANCEUNITS pixels
      TOLERANCE 10
      PROJECTION
        "init=epsg:3857"
      END
      CLASS
        NAME "cantine"
        STYLE
          SYMBOL "wine"
        END # STYLE
      END # CLASS
    END #LAYER

    LAYER
      NAME zone
      TYPE POLYGON
      CONNECTIONTYPE OGR
      CONNECTION "/home/umberto/Documents/apps/projects/shire/dati/wineshire.sqlite"
      DATA "zone_doc_zone_docg_zone_igt"
      FILTER ('[vitigni]' LIKE '%vitigni%') # doesn't include NULL
      VALIDATION
        "vitigni" ".*"
      END
      METADATA
        "ows_title"         "zone" ##REQUIRED
        "ows_srs"           "EPSG:3857" # REQUIRED
        "gml_include_items" "all" ## Optional (serves all attributes for layer)
        "gml_featureid"     "gid" ## REQUIRED
	"ows_geometries"    "geom" ## http://docs.qgis.org/2.2/en/docs/user_manual/working_with_ogc/ogc_client_support.html
	#"ows_mygeom_type"   "polygon"
	"gml_types"         "auto" ## http://mapserver.org/output/ogr_output.html#attribute-field-definitions
        "ows_enable_request" "*"
	"wms_include_items" "all"
      END
      STATUS ON
      TEMPLATE "../template/query_spatialite_zone.html"
      TOLERANCEUNITS pixels
      TOLERANCE 10
      PROJECTION
        "init=epsg:3857"
      END
      CLASS
        STYLE
          OUTLINECOLOR 255 0 0
          WIDTH 2
        END # STYLE
      END # CLASS
    END #LAYER
    
END # MAP

